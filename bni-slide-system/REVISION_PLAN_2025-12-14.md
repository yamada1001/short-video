# BNI Slide System V2 - 大規模修正依頼書 対応計画

**作成日時**: 2025-12-14 00:40

## ⚠️ 重要な注意事項

1. **ナンバリングは現時点（修正前）の番号** - 修正が進むとズレが発生する可能性あり
2. **一気に始めない** - 作業を整理して順番に実施
3. **仕様とディレクトリ構造を確定させてから実装開始**
4. **すぐに実装に進まない**

---

## 📋 修正依頼の全体像

### 削除するスライド
- p.32: 削除
- p.37: 削除
- p.88: 削除
- p.106: 削除
- p.109, 110: 削除
- p.192: 削除
- p.193: 削除
- p.195: 削除

**合計**: 9ページ削除

### 管理画面が必要な機能（新規作成）

1. **メンバー管理**（最優先）
   - 本番用PDF 2枚目から読み取ってメンバーリスト作成
   - 名前、会社名、写真、カテゴリ（業種）、誕生日を管理
   - 会社名・写真は空欄でOK（後で追加）

2. **p.7 テーブルと座席管理**
   - テーブルは固定
   - メンバー追加機能
   - ドラッグ&ドロップで座席配置

3. **p.8 メインプレゼン**
   - メンバー選択
   - 写真、カテゴリ（業種）、名前、会社名を表示
   - スライド新規作成

4. **p.9-14 スピーカーローテーション**
   - 日程選択
   - メインプレゼン（メンバー選択）
   - ご紹介してほしい人（自由記述）
   - テーブル形式のスライド新規作成

5. **p.15 スタートダッシュプレゼン**
   - メンバー選択
   - 2分間カウントダウンタイマー

6. **p.19 ビジター紹介**
   - ビジター名、会社名、専門分野、スポンサー、アテンド（メンバー選択）、No
   - 複数名対応（スライド自動分割）
   - 追加・削除機能

7. **p.22-24 代理出席**
   - 代理出席メンバー選択
   - 代理出席者の会社名・名前入力
   - 最大3名

8. **p.25-27 新入会メンバー**
   - メンバー選択
   - 会社名、写真表示
   - 最大3名

9. **p.28 週間No.1**
   - 外部リファーラル1位（メンバー選択、件数入力）
   - ビジター招待1位（メンバー選択、件数入力）
   - 1to1 1位（メンバー選択、件数入力）
   - 1枚のスライドに収める

10. **p.31 ハッピーバースデー**
    - メンバー管理に誕生日追加
    - 自動表示（毎週金曜日、現在の西暦から判定）

11. **p.72 シェアストーリー**
    - メンバー選択
    - 写真、名前、会社名表示

12. **p.74-85 ネットワーキング学習コーナー**
    - PDF添付機能
    - PDF→画像変換して86枚目以降に挿入
    - 最新のPDFを参照

13. **p.91 リファーラルチャンピオン**
    - 1位～3位（メンバー選択、件数入力）
    - 同率対応（複数名入力可能）
    - 1位は豪華なアニメーション + 顔写真
    - Font Awesome使用（絵文字NG）

14. **p.92 バリューチャンピオン**（p.91と同様）
15. **p.93 ビジターチャンピオン**（p.91と同様）
16. **p.94 1to1チャンピオン**（p.91と同様）
17. **p.95 CEUチャンピオン**（p.91と同様）

18. **p.96 各チャンピオン一覧**
    - 上記5つのチャンピオンから1位の情報を引っ張る

19. **p.98 更新メンバー**
    - メンバー選択

20. **p.100-102 新入会メンバー**（p.25-27と同じ仕様）

21. **p.107 スタートダッシュプレゼン**（p.15と同じ仕様）

22. **p.112-166 メンバー33秒ピッチ**
    - メンバー数分のスライド自動生成
    - 名前、会社名、顔写真、33秒カウントダウン
    - 不参加メンバーをチェック（スライド非表示）
    - メンバー追加時に自動でスライド追加

23. **p.169-180 ビジター簡単自己紹介**
    - ビジター情報から自動生成
    - 名前、会社名、23秒カウントダウン
    - スライドに「お仕事内容」「ご紹介してほしい方・職業」項目追加
    - ビジター管理画面に削除機能追加

24. **p.184 ビジネスブレイクアウト**
    - スライドのみ作成（管理画面不要）
    - 5分カウントダウンタイマー
    - 見出し「ビジネスブレイクアウト」「残り時間」

25. **p.185 激しく募集中のカテゴリ**
    - 自由記述（複数入力可能）

26. **p.188 ビジター合計数**
    - これまでのビジター数
    - 先週の定例会の数
    - 本日の定例会の数
    - 現在のメンバー数

27. **p.189 リファーラル件数**
    - 日付選択
    - これまでのリファーラル件数
    - 先週のリファーラル件数
    - 先週平均のリファーラル数（1人あたり）

28. **p.190 売上統計**
    - 日付入力
    - 期間までの売上
    - 前期間との伸び率

29. **p.194 募集カテゴリーアンケート結果**
    - 1位～4位（自由記述）
    - 得票数入力

30. **p.199-203 スピーカーローテーション**（p.9-14と同じ）

31. **p.204 メインプレゼン**
    - メンバー選択（名前、写真、会社名表示）
    - PDF添付機能（画像変換して204ページ以降に挿入）
    - 動画対応（YouTube限定公開？）← 要相談

32. **p.213-224 ビジター感想**
    - ビジター情報から自動生成
    - 「〇〇様による本日の一言感想」
    - 23秒カウントダウン

33. **p.227 リファーラルの真正度の確認**
    - メンバー2名選択（誰から誰へ）
    - スライドに固定テキスト追加：
      - リファーラル先と連絡は取れましたか？
      - 話は通じてましたか？
      - 純粋にビジネスの機会となり得るものでしたか？

34. **p.229 書記兼会計による報告**
    - 更新を迎えたメンバー選択

35. **p.235 ビジターへの感謝**
    - ビジター情報をテーブル形式で一覧表示

36. **p.242 アンケートQRコード**
    - URL入力 → QRコード生成 → スライド表示

37. **p.297-301 スピーカーローテーション**（再度表示）

38. **p.302 統計情報**
    - 先週のビジター数
    - 今週のビジター数
    - 150名までのカウントダウン（現在のメンバー数）
    - 毎週の目標数

39. **全スライド表示・非表示管理**
    - 管理画面で全ページの表示/非表示を切り替え
    - 基本は全て表示、非表示チェックでスライド非表示

---

## 🎨 デザイン要件

- **スライドサイズ**: 現在の画像と同じサイズ
- **トンマナ**: BNIレッド（赤）を基調
- **管理画面**: BNIレッドを基調
- **アニメーション**: なし（パッと切り替え）
- **絵文字**: 使わない → Font Awesome使用

---

## 📁 必要なディレクトリ構造（案）

```
slides_v2/
├── index.php              # スライド表示（既存）
├── admin/
│   ├── members.php        # メンバー管理（最優先）
│   ├── seating.php        # 座席管理（p.7）
│   ├── main_presenter.php # メインプレゼン（p.8, p.204）
│   ├── speaker_rotation.php # スピーカーローテーション（p.9-14, p.199-203, p.297-301）
│   ├── start_dash.php     # スタートダッシュ（p.15, p.107）
│   ├── visitors.php       # ビジター管理（p.19, p.169-180, p.213-224, p.235）
│   ├── substitutes.php    # 代理出席（p.22-24）
│   ├── new_members.php    # 新入会メンバー（p.25-27, p.100-102）
│   ├── weekly_no1.php     # 週間No.1（p.28）
│   ├── share_story.php    # シェアストーリー（p.72）
│   ├── networking_pdf.php # ネットワーキング学習（p.74-85）
│   ├── champions.php      # 各チャンピオン（p.91-96）
│   ├── renewal.php        # 更新メンバー（p.98, p.229）
│   ├── member_pitch.php   # メンバーピッチ管理（p.112-166）
│   ├── business_breakout.php # ビジネスブレイクアウト（p.184）
│   ├── categories.php     # 募集カテゴリ（p.185, p.194）
│   ├── statistics.php     # 統計情報（p.188, p.189, p.190, p.302）
│   ├── referral_check.php # リファーラル真正度（p.227）
│   ├── qr_code.php        # QRコード（p.242）
│   └── slide_visibility.php # スライド表示/非表示管理
├── api/
│   ├── members_crud.php
│   ├── seating_crud.php
│   ├── slides_data.php
│   └── ...（各管理画面用のAPI）
├── data/
│   ├── members.json       # メンバー情報
│   ├── seating.json       # 座席配置
│   ├── slide_config.json  # スライド設定
│   └── uploads/           # PDF・画像アップロード
└── database/
    └── bni_slide_v2.db    # SQLiteデータベース（検討）
```

---

## 📝 実装の優先順位

### Phase 1: メンバー管理（最優先）
1. 本番PDF 2枚目からメンバーリスト作成
2. メンバー管理画面作成
   - 名前、会社名、写真、カテゴリ（業種）、誕生日
   - CRUD機能

### Phase 2: 基本的な管理画面
1. スライド表示/非表示管理
2. 座席管理（p.7）
3. メインプレゼン（p.8）
4. スピーカーローテーション（p.9-14）

### Phase 3: ビジター関連
1. ビジター管理画面
2. ビジター紹介スライド（p.19）
3. ビジター自己紹介スライド（p.169-180）
4. ビジター感想スライド（p.213-224）

### Phase 4: チャンピオン・統計関連
1. 週間No.1（p.28）
2. 各チャンピオン（p.91-96）
3. 統計情報（p.188-190, p.302）

### Phase 5: その他の管理画面
1. 代理出席（p.22-24）
2. 新入会メンバー（p.25-27）
3. ハッピーバースデー（p.31）
4. シェアストーリー（p.72）
5. ネットワーキング学習（p.74-85）
6. メンバーピッチ（p.112-166）
7. その他

---

## 🚀 次のステップ

1. ✅ 修正依頼書を読み込み
2. ✅ 作業計画をMDファイルに保存
3. ⏳ 本番PDF 2枚目からメンバーリスト抽出
4. ⏳ データベース設計
5. ⏳ ディレクトリ構造確定
6. ⏳ 実装開始

**現在の状態**: 作業計画作成完了（2025-12-14 00:40）

---

## 📌 技術的な検討事項

### ✅ 確定事項（2025-12-14 00:45）

1. **動画対応（p.204）**: YouTube限定公開
2. **データ保存**: SQLiteデータベース（既存のbni_slide.db拡張）
3. **ディレクトリ構造**: 提案構造でOK（slides_v2/admin/）
4. **実装方針**: Phase 1から順番に実装

---

1. **動画対応（p.204）** ✅
   - **確定**: YouTube限定公開
   - 管理画面でYouTube URLを入力
   - スライドにiframeで埋め込み

2. **PDF→画像変換**
   - PyMuPDFを使用（既に実績あり）
   - ページ数の動的追加

3. **ドラッグ&ドロップ（p.7 座席管理）**
   - JavaScript ライブラリ検討（SortableJS等）

4. **QRコード生成（p.242）**
   - PHPライブラリ検討（phpqrcode等）

5. **カウントダウンタイマー**
   - 2分、23秒、33秒、5分
   - JavaScript実装

6. **アニメーション（p.91 1位の発表）**
   - CSS Animation
   - Font Awesome使用

---

**最終更新**: 2025-12-14 00:40

---

## 📝 作業ログ（5分ごとに更新）

### 2025-12-14 00:52 - 進捗報告

**完了した作業**:
1. ✅ 修正依頼書の内容整理とMD保存
2. ✅ ユーザーに仕様確認（動画: YouTube限定公開、データ: SQLite、ディレクトリ: 提案構造OK、実装: Phase 1から順番）
3. ✅ 本番PDF 2ページ目からメンバーリスト抽出（48名）
4. ✅ データベース設計完了（19テーブル）

**現在の作業**:
- データベーススキーマSQLファイル作成中

**残りの作業**:
1. SQLファイル作成（schema_v2.sql）
2. 初期データ投入SQL作成（48名のメンバー）
3. Phase 1: メンバー管理画面実装
4. Phase 2: 基本的な管理画面
5. Phase 3: ビジター関連
6. Phase 4: チャンピオン・統計関連
7. Phase 5: その他の管理画面

**次回更新予定**: 2025-12-14 00:57
