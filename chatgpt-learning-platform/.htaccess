# ルートディレクトリのアクセス制御
Options +FollowSymLinks -Indexes

# publicディレクトリにリダイレクト
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /chatgpt-learning-platform/

    # publicディレクトリ以外へのアクセスを拒否（セキュリティ）
    RewriteCond %{REQUEST_URI} !^/chatgpt-learning-platform/public/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ public/$1 [L]

    # index.html へのリダイレクト
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^$ public/index.html [L]
</IfModule>

# デフォルトドキュメント
DirectoryIndex public/index.html index.html
